syntax = "proto3";

option go_package = "telepathy-server/proto";

import "google/protobuf/timestamp.proto";

// Profile image size
// width: 1600, height: 1600,
// thumb size
// width: 360, height: 360,

enum EChipType {
  ECT_SCHOOL_NAME = 0;
  ECT_SCHOOL_SHORT_NAME = 1;
  ECT_GRADE = 2;
  ECT_INSTA_ACCOUNT = 3;
  ECT_TIKTOK_ACCOUNT = 4;
  ECT_MBTI = 5;
  ECT_OTHER = 6;
}

enum EGender {
  EG_UNSPECIFIED = 0;
  EG_MALE = 1;
  EG_FEMALE = 2;
}

message ChipItem {
  EChipType type = 1;
  string text = 2;
}
message Config {
  optional bool heartLock = 1;
  optional bool systemAlarm = 2;
  optional bool questionAlarm = 3;
  optional bool bluetoothAlarm = 4;
  optional bool heartAlarm = 5;
}

message User {
  string uid = 1;
  string name = 2;
  string description = 3;
  EGender gender = 4;
  repeated ChipItem chips = 5;
  optional string birth = 6;       // only me, 20030407
  optional string phoneNumber = 7; // only me, E.164
  optional string email = 8;       // only me
  optional Config config = 9;
  string profileImgURL = 10;
  string thumbnailImgURL = 11;                       //
  optional int32 bestFriends = 12;                   // only me
  optional bool isInitialized = 13;                  // only me
  optional google.protobuf.Timestamp createdAt = 14; // only me
  optional google.protobuf.Timestamp updatedAt = 15; // only me, UnixTime
  optional string schoolCode = 16;                   // only me
}

message Friend {
  string uid = 1;
  string name = 2;
  string profileImgURL = 3;
  string thumbnailImgURL = 4;
  repeated ChipItem chips = 5;
  optional string description = 6;
  optional EGender gender = 7;
  optional bool alarm = 8;
}
